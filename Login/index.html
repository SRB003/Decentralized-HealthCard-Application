<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="style.css" />
  <title>Sign in & Sign up Form</title>
</head>

<body>
  <div class="container">
    <div class="forms-container">
      <div class="signin-signup">
        <form action="#" class="sign-in-form">

          <div class="input-field">


          </div>
<img src="img/metamask.gif" style="height: 350px;">
          <button id="loginButton" class="btn solid">Login</button>
          <script>
            window.userWalletAddress = null
            const loginButton = document.getElementById('loginButton')
            const userWallet = document.getElementById('userWallet')
        
            function toggleButton() {
              if (!window.ethereum) {
                loginButton.innerText = 'MetaMask is not installed'
                loginButton.classList.remove('bg-purple-500', 'text-white')
                loginButton.classList.add('bg-gray-500', 'text-gray-100', 'cursor-not-allowed')
                return false
              }
        
              loginButton.addEventListener('click', loginWithMetaMask)
            }
        
            async function loginWithMetaMask() {
              const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })
                .catch((e) => {
                  console.error(e.message)
                  return
                })
              if (!accounts) { return }
        
              window.userWalletAddress = accounts[0]
              userWallet.innerText = window.userWalletAddress
              loginButton.innerText = 'you are sign in '
              window.location.href="hospital.html"
              loginButton.removeEventListener('click', loginWithMetaMask)
              setTimeout(() => {
                loginButton.addEventListener('click', signOutOfMetaMask)
              }, 200)
            }
        
            function signOutOfMetaMask() {
              window.userWalletAddress = null
              userWallet.innerText = ''
              loginButton.innerText = 'Sign in with MetaMask'
        
              loginButton.removeEventListener('click', signOutOfMetaMask)
              setTimeout(() => {
                
                loginButton.addEventListener('click', loginWithMetaMask)
                }, 200)
            }
        
            window.addEventListener('DOMContentLoaded', () => {
              toggleButton()
            });
          </script>
        </form>
        
    </div>
  </div>

  <div class="panels-container">
    <div class="panel left-panel">
      <div class="content">
        
        <p>
          <font size="6" style="color: black;">
            <b>
              HealthCard Application</font>
            </b> <br>
            <font size="4" style="color: black;">
            Revolutionizing healthcare through decentralized technology secure and accessible medical records on the
            web
          </font>
        </p>
       
      </div>
      <img src="img/images__2_-removebg-preview.png" class="image" />
    </div>
    <div class="panel right-panel">

    </div>

  </div>
  </div>

  <script src="app.js"></script>
</body>

</html>